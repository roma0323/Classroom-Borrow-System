<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>管理使用者</title>
    <th:block th:include="head/head :: headerfiles"></th:block>
</head>

<body>

<!-- ======= Header ======= -->
<header th:insert="navbar/navbar_authority :: header"> </header>

<main id="main">

    <!-- ======= Breadcrumbs Section ======= -->
    <section class="breadcrumbs">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center">
                <h2>管理使用者</h2>
            </div>
        </div>
    </section>
    <!-- End Breadcrumbs Section -->
    <div class="container">
        <section class="borrowList text-center width: 70%">
            <div class="card p-3">
                <table class="table table-hover center-table mx-auto">
                    <thead>
                    <tr>
                        <th scope="col">名稱</th>
                        <th scope="col">身分</th>
                        <th scope="col">電子郵件</th>
                        <th scope="col">管理</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="member : ${memberList}">
                        <td th:text="${member.name}"></td>
                        <td th:text="${member.identity}"></td>
                        <td th:text="${member.email}"></td>
                        <td>
                            <div class="d-flex justify-content-center">
                                <form th:action="@{/member/changeMemberRole}" method="post">
                                    <input type="hidden" name="email" th:value="${member.email}">
                                    <button type="submit" class="btn btn-primary btn-sm custom-button">變更身分</button>
                                </form>

                                <form action="/member/resetPassword" method="post">
                                    <input type="hidden" name="email" th:value="${member.email}">
                                    <button type="submit" class="btn btn-primary btn-sm custom-button">重設密碼</button>
                                </form>
                                &nbsp;
                                <form th:action="@{/member/deleteMember}" method="post">
                                    <input type="hidden" name="id_member" th:value="${member.id_member}">
                                    <button type="submit" class="btn btn-primary btn-sm custom-button">刪除帳號</button>
                                </form>

                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </div>
</main>

<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!-- Vendor JS Files -->
<script type="text/javascript" th:src="@{/assets/vendor/purecounter/purecounter_vanilla.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/aos/aos.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/glightbox/js/glightbox.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/isotope-layout/isotope.pkgd.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/swiper/swiper-bundle.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/php-email-form/validate.js}"></script>

<!-- Template Main JS File -->
<script type="text/javascript" th:src="@{/assets/js/main.js}"></script>

</body>

</html>